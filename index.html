<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Osito del Amor üß∏‚ù§Ô∏è</title>

<style>
*{
    margin:0;
    padding:0;
    box-sizing:border-box;
    -webkit-tap-highlight-color: transparent;
}

html, body{
    width:100%;
    height:100%;
    overflow:hidden;
    touch-action:none;
    font-family:Arial, sans-serif;
    background: linear-gradient(180deg,#ffc1c1,#ff9e9e);
}

.top{
    position:absolute;
    width:100%;
    display:flex;
    justify-content:space-between;
    padding:15px;
    color:white;
    font-weight:bold;
    z-index:10;
}

.level{
    background:#ff4d6d;
    padding:5px 15px;
    border-radius:20px;
}

#gameArea{
    position:relative;
    width:100%;
    height:100%;
}

.heart{
    position:absolute;
    font-size:25px;
    animation:fall linear;
}

@keyframes fall{
    from{transform:translateY(-40px);}
    to{transform:translateY(110vh);}
}

#bear{
    position:absolute;
    bottom:20px;
    left:50%;
    transform:translateX(-50%);
    font-size:55px;
    transition:left 0.05s linear;
}

.card{
    position:absolute;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    background:white;
    padding:25px;
    border-radius:20px;
    width:85%;
    max-width:350px;
    text-align:center;
    box-shadow:0 10px 25px rgba(0,0,0,0.3);
    display:none;
    z-index:20;
}

.card h2{
    color:#ff4d6d;
}

.card button{
    margin-top:15px;
    padding:10px 20px;
    border:none;
    border-radius:20px;
    background:#ff4d6d;
    color:white;
}
</style>
</head>

<body>

<div class="top">
    <div id="score">Corazones: 0 / 10</div>
    <div class="level" id="level">Nivel 1</div>
</div>

<div id="gameArea">
    <div id="bear">üß∏</div>
</div>

<div class="card" id="card">
    <h2 id="title">1. El Comienzo</h2>
    <p id="text">Me encanta c√≥mo iluminas mis d√≠as con solo existir.</p>
    <button onclick="closeCard()">Continuar ‚ù§Ô∏è</button>
</div>

<script>
let score = 0;
let level = 1;
let playing = true;

const messages = [
    {title:"1. El Comienzo", text:"Me encanta c√≥mo iluminas mis d√≠as con solo existir."},
    {title:"2. La Conexi√≥n", text:"Cada momento contigo se siente especial."},
    {title:"3. M√°s que Palabras", text:"Tu sonrisa puede cambiar cualquier d√≠a gris."},
    {title:"4. Amor Real", text:"Contigo todo se siente m√°s bonito ‚ù§Ô∏è"}
];

const bear = document.getElementById("bear");
const gameArea = document.getElementById("gameArea");

gameArea.addEventListener("touchmove", e=>{
    if(!playing) return;
    const touch = e.touches[0];
    moveBear(touch.clientX);
});

gameArea.addEventListener("mousemove", e=>{
    if(!playing) return;
    moveBear(e.clientX);
});

function moveBear(x){
    const maxWidth = window.innerWidth - 60;
    let pos = x - 30;
    if(pos < 0) pos = 0;
    if(pos > maxWidth) pos = maxWidth;
    bear.style.left = pos + "px";
}

function createHeart(){
    if(!playing) return;

    const heart = document.createElement("div");
    heart.classList.add("heart");
    heart.innerHTML = "üíñ";
    heart.style.left = Math.random() * 90 + "%";
    heart.style.animationDuration = (3 + Math.random()*2) + "s";

    gameArea.appendChild(heart);

    let check = setInterval(()=>{
        const h = heart.getBoundingClientRect();
        const b = bear.getBoundingClientRect();

        if(
            h.bottom >= b.top &&
            h.left < b.right &&
            h.right > b.left
        ){
            score++;
            document.getElementById("score").innerText = "Corazones: " + score + " / 10";
            heart.remove();
            clearInterval(check);
            checkLevel();
        }
    },50);

    setTimeout(()=>{ heart.remove(); clearInterval(check); },5000);
}

function checkLevel(){
    if(score >= 10){
        playing = false;
        document.getElementById("card").style.display = "block";
        document.getElementById("title").innerText = messages[level-1].title;
        document.getElementById("text").innerText = messages[level-1].text;
    }
}

function closeCard(){
    document.getElementById("card").style.display = "none";
    score = 0;
    if(level < messages.length){
        level++;
        document.getElementById("level").innerText = "Nivel " + level;
    }else{
        alert("‚ù§Ô∏è Completaste todos los niveles ‚ù§Ô∏è");
    }
    document.getElementById("score").innerText = "Corazones: 0 / 10";
    playing = true;
}

setInterval(createHeart,800);
</script>

</body>
</html>
